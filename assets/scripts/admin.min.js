!function(t){function e(n){if(a[n])return a[n].exports;var i=a[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var a={};e.m=t,e.c=a,e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,a){a(1),a(2),a(3),a(4),t.exports=a(5)},function(t,e,a){"use strict";!function(t,e){t(function(){function a(t,e){var a=document.createElement("a");a.href=t,a.setAttribute("download",e);var n=document.createEvent("MouseEvents");return n.initEvent("click",!1,!0),a.dispatchEvent(n),!1}t(".pwp-download-log").on("click",function(){var n=t(this),i=n.attr("data-log");void 0!==i&&(n.prop("disabled",!0),t.ajax({url:e.AjaxURL,type:"POST",dataType:"json",data:{action:"pwp_ajax_download_log-"+i}}).always(function(t){if(null===t.type||"success"!==t.type){var e=t.message;""!==e&&void 0!==e||(e="error"),alert(e)}else a(t.add.url,t.add.file);n.removeAttr("disabled")}))})})}(jQuery,PwpJsVars)},function(t,e,a){"use strict";!function(t,e){t(function(){t("#pwpDeleteDevice").on("click",function(){var a=t(this),n=a.parents(".pwp-devicestable__container"),i=a.attr("data-deviceid");n.addClass("pwp-devicestable__container--loading"),t.ajax({url:e.AjaxURL,type:"POST",dataType:"json",data:{action:"pwp_ajax_handle_device_id",user_id:i,handle:"remove",clientData:{}}}).done(function(t){a.parents("tr").remove()}).fail(function(){console.log("remove failed")}).always(function(){n.removeClass("pwp-devicestable__container--loading")})})})}(jQuery,PwpJsVars)},function(t,e,a){"use strict";!function(t,e,a){t(function(){t("input[name=pwp-push-image]").each(function(){var e=t(this),n=e.parent().find(".pwpmodal-uploader"),i=n.find("#uploadImage"),o=n.find("#removeImage"),s=n.find(".pwpmodal-uploader__image"),r=void 0;e.addClass("pwpmodal-input"),i.on("click",function(){r=a.media({title:"Select or Upload a file",button:{text:"Select file"},multiple:!1,filters:{type:"jpg"}}),r.on("select",function(){var t=r.state().get("selection").first().toJSON(),a="";a="image"===t.type?"<img src='"+t.sizes.thumbnail.url+"' />":'<a target="_blank" href="'+t.url+'">'+t.title+"</a> ("+t.mime+")",s.html(a),e.val(t.id)}),r.open()}),o.on("click",function(){e.val(0),s.html("")})}),t(".pwp-pushmodal").each(function(){var a=t(this),n=a.find(".loader"),i=a.find(".success");a.find("#send").on("click",function(){n.fadeIn();var o={};o.action=a.find("input[name=pwp-push-action]").val(),a.find("input, select").each(function(){o[t(this).attr("name")]=t(this).val()}),t.ajax({url:e.AjaxURL,type:"POST",dataType:"json",data:o}).always(function(a){if(null===a.type||"success"!==a.type){var o=a.message;""!==o&&void 0!==o||(o=e.GeneralError),alert(o)}else{i.fadeIn();var s=t(".pushpost-meta-container");s.length&&s.addClass("pushpost-done")}n.fadeOut()})})})})}(jQuery,PwpJsVars,wp)},function(t,e,a){"use strict";!function(t,e){t(function(){var e=PwpJsVars.post_types;t.each(e,function(e,a){var n=t("#pwp_pushpost_active_"+e),i=t("#pwp_pushpost_title_"+e),o=i.parents("tr").first(),s=t("#pwp_pushpost_body_"+e),r=s.parents("tr").first();n.length&&(n.prop("checked")?(o.css({display:"table-row"}),r.css({display:"table-row"})):(o.hide(),r.hide()),n.on("change",function(){n.prop("checked")?(o.css({display:"table-row"}),r.css({display:"table-row"})):(o.hide(),r.hide())}))}),t(".pushpost-meta-container").each(function(){var e=t(this);t(this).find(".pushpost-meta__sendagain").on("click",function(){confirm(t(this).attr("data-confirmation"))&&e.removeClass("pushpost-done")})})})}(jQuery,PwpJsVars)},function(t,e,a){"use strict";!function(t,e,a){t(function(){function e(){var t=n.val();o.hide(),i.hide(),"pageload"===t?i.show():"trigger"===t&&o.show()}var n=t("select#installable-mode"),i=t("input#installable-pageloads").parent().parent(),o=t("input#installable-onclick").parent().parent();n.on("change",function(){e()}),e();var s=t(".pwp-wrap");s.find(".settings--fileuploader").each(function(){var e=t(this),n=e.find("input[type=hidden]"),i=e.find(".select-file"),o=e.find(".delete-file"),s=e.find(".fileuploader__preview"),r=e.attr("data-mimes"),l=e.attr("data-max-width"),p=e.attr("data-min-width"),c=e.attr("data-max-height"),d=e.attr("data-min-height"),u=void 0;o.on("click",function(){e.attr("data-fileid",0),s.html(""),n.val(0)}),i.on("click",function(){u=a.media({title:"Select or Upload a file",button:{text:"Select file"},multiple:!1,filters:{type:"jpg"}}),u.on("select",function(){var a=u.state().get("selection").first().toJSON(),i=[];if(""!==r){var o=r.split(", "),f=a.subtype;-1===t.inArray(f,o)&&i.push("This file should be one of the following file types:\n"+r)}if(""!==c&&a.height>c&&i.push("Image can't be higher than "+c+"px."),""!==d&&a.height<d&&i.push("Image should be at least "+d+"px high."),""!==l&&a.width>l&&i.push("Image can't be wider than "+l+"px."),""!==p&&a.width<p&&i.push("Image should be at least "+d+"px wide."),i.length)return void alert(i.join("\n\n"));var h="";if("image"===a.type){var m=a.url;void 0!==a.sizes.thumbnail&&(m=a.sizes.thumbnail.url),h="<img src='"+m+"' />"}else h='<a target="_blank" href="'+a.url+'">'+a.title+"</a> ("+a.mime+")";e.attr("data-fileid",a.id),s.html(h),n.val(a.id)}),u.open()})}),s.find(".settings--colorpicker").wpColorPicker()})}(jQuery,PwpJsVars,wp)}]);