!function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var t={};n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=0)}([function(e,n,t){"use strict";!function(e){try{var n=function(e){o=e,e?r.classList.add("pwp-notification--on"):r.classList.remove("pwp-notification--on")},t=function(n,t){var o=new ClientJS,i={browser:{browser:o.getBrowser(),version:o.getBrowserVersion(),major:o.getBrowserMajorVersion()},os:{os:o.getOS(),version:o.getOSVersion()},device:{device:o.getDevice(),type:o.getDeviceType(),vendor:o.getDeviceVendor()}},a=[];Object.keys(i).forEach(function(e){Object.keys(i[e]).forEach(function(n){a.push("clientData["+e+"]["+n+"]="+i[e][n])})});var c=new XMLHttpRequest;c.open("POST",e.AjaxURL,!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),c.onload=function(){r.classList.remove("pwp-notification--loader")},c.send("action=pwp_ajax_handle_device_id&user_id="+n+"&handle="+t+"&"+a.join("&"))},o=!1,r=document.getElementsByTagName("body")[0];console.log(function(e){for(var n="=".repeat((4-e.length%4)%4),t=(e+n).replace(/-/g,"+").replace(/_/g,"/"),o=atob(t),r=new Uint8Array(o.length),i=0;i<o.length;++i)r[i]=o.charCodeAt(i);return r}(WebPushVars.vapidPublcKey));var i=function(){r.classList.add("pwp-notification--loader"),navigator.serviceWorker.ready.then(function(o){o.pushManager.subscribe({userVisibleOnly:!0}).then(function(e){var o=e.endpoint.split("fcm/send/")[1];t(o,"add"),n(!0)}).catch(function(){n(!1),alert(e.message_pushadd_failed)})})},a=function(){r.classList.add("pwp-notification--loader"),navigator.serviceWorker.ready.then(function(o){o.pushManager.getSubscription().then(function(o){o&&o.unsubscribe().then(function(){var e=o.endpoint.split("fcm/send/")[1];t(e,"remove"),n(!1)}).catch(function(){n(!0),alert(e.message_pushremove_failed)})})})};"serviceWorker"in navigator&&"PushManager"in window&&navigator.serviceWorker.ready.then(function(e){r.classList.add("pwp-notification");var t=document.getElementById("pwp-notification-button");t&&(t.onclick=function(){o?a():i()}),e.pushManager.getSubscription().then(function(e){e&&n(!0)})}),window.pwpRegisterPushDevice=i,window.pwpDeregisterPushDevice=a}catch(e){}}(PwpJsVars)}]);