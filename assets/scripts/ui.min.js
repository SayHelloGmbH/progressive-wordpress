!function(n){function e(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t={};e.m=n,e.c=t,e.d=function(n,t,i){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:i})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=0)}([function(n,e,t){t(1),t(2),n.exports=t(3)},function(n,e,t){"use strict";!function(n,e){n(function(){var t=void 0;window.addEventListener("beforeinstallprompt",function(i){i.preventDefault(),t=i,"trigger"===e.installprompt.mode&&(n(e.installprompt.onclick).addClass("installable-active"),n(e.installprompt.onclick).on("click",function(){n(this).hasClass("installable-active")&&t.prompt()})),t.userChoice.then(function(i){i.outcome,n(e.installprompt.onclick).removeClass("installable-active"),t=null})})})}(jQuery,PwpJsVars)},function(n,e,t){"use strict";!function(n,e){function t(n){navigator.onLine?i.removeClass(o):i.addClass(o)}var i=n("body"),o="pwp-offline";n(function(){t()}),window.addEventListener("online",t),window.addEventListener("offline",t)}(jQuery,PwpJsVars)},function(n,e,t){"use strict";!function(n,e){function t(n){o=n,r.removeClass("pwp-notification--loader"),n?r.addClass("pwp-notification--on"):r.removeClass("pwp-notification--on")}function i(t,i){var o=new ClientJS,r={browser:{browser:o.getBrowser(),version:o.getBrowserVersion(),major:o.getBrowserMajorVersion()},os:{os:o.getOS(),version:o.getOSVersion()},device:{device:o.getDevice(),type:o.getDeviceType(),vendor:o.getDeviceVendor()}};n.ajax({url:e.AjaxURL,type:"POST",dataType:"json",data:{action:"pwp_ajax_handle_device_id",user_id:t,handle:i,clientData:r}}).done(function(n){})}var o=!1,r=n("body");n(function(){"serviceWorker"in navigator&&"PushManager"in window&&navigator.serviceWorker.ready.then(function(e){r.addClass("pwp-notification");var i=n("#pwp-notification-button");i.length&&i.on("click",function(){o?s():a()}),e.pushManager.getSubscription().then(function(n){n&&t(!0)})})});var a=function(){r.addClass("pwp-notification--loader"),navigator.serviceWorker.ready.then(function(n){n.pushManager.subscribe({userVisibleOnly:!0}).then(function(n){i(n.endpoint.split("gcm/send/")[1],"add"),t(!0)}).catch(function(){t(!1),alert(e.message_pushadd_failed)})})},s=function(){r.addClass("pwp-notification--loader"),navigator.serviceWorker.ready.then(function(n){n.pushManager.getSubscription().then(function(n){n&&n.unsubscribe().then(function(){i(n.endpoint.split("gcm/send/")[1],"remove"),t(!1)}).catch(function(){t(!0),alert(e.message_pushremove_failed)})})})};window.pwpRegisterPushDevice=a,window.pwpDeregisterPushDevice=s}(jQuery,PwpJsVars)}]);