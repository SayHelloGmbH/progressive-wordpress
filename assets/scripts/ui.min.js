!function(n){function e(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var t={};e.m=n,e.c=t,e.d=function(n,t,o){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:o})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=0)}([function(n,e,t){t(1),t(2),n.exports=t(3)},function(n,e,t){"use strict";!function(n,e){n(function(){var t=void 0;console.log("installprompt mode:"+e.installprompt.mode),window.addEventListener("beforeinstallprompt",function(o){o.preventDefault(),t=o,console.log("beforeinstallprompt fired"),"normal"===e.installprompt.mode?window.addEventListener("scroll",function(){console.log("prompt"),t.prompt()},1e3):"trigger"===e.installprompt.mode&&(n(e.installprompt.onclick).addClass("installable-active"),n(e.installprompt.onclick).on("click",function(){n(this).hasClass("installable-active")&&t.prompt(),t.userChoice.then(function(o){o.outcome,n(e.installprompt.onclick).removeClass("installable-active"),t=null})}))})})}(jQuery,PwpJsVars)},function(n,e,t){"use strict";!function(n,e){function t(n){navigator.onLine?o.removeClass(i):o.addClass(i)}var o=n("body"),i="pwp-offline";n(function(){t()}),window.addEventListener("online",t),window.addEventListener("offline",t)}(jQuery,PwpJsVars)},function(n,e,t){"use strict";!function(n,e){function t(n){i=n,r.removeClass("pwp-notification--loader"),n?r.addClass("pwp-notification--on"):r.removeClass("pwp-notification--on")}function o(t,o){var i=new ClientJS,r={browser:{browser:i.getBrowser(),version:i.getBrowserVersion(),major:i.getBrowserMajorVersion()},os:{os:i.getOS(),version:i.getOSVersion()},device:{device:i.getDevice(),type:i.getDeviceType(),vendor:i.getDeviceVendor()}};n.ajax({url:e.AjaxURL,type:"POST",dataType:"json",data:{action:"pwp_ajax_handle_device_id",user_id:t,handle:o,clientData:r}}).done(function(n){})}var i=!1,r=n("body");n(function(){"serviceWorker"in navigator&&"PushManager"in window&&navigator.serviceWorker.ready.then(function(e){r.addClass("pwp-notification");var o=n("#pwp-notification-button");o.length&&o.on("click",function(){i?s():a()}),e.pushManager.getSubscription().then(function(n){n&&t(!0)})})});var a=function(){r.addClass("pwp-notification--loader"),navigator.serviceWorker.ready.then(function(n){n.pushManager.subscribe({userVisibleOnly:!0}).then(function(n){o(n.endpoint.split("gcm/send/")[1],"add"),t(!0)}).catch(function(){t(!1),alert(e.message_pushadd_failed)})})},s=function(){r.addClass("pwp-notification--loader"),navigator.serviceWorker.ready.then(function(n){n.pushManager.getSubscription().then(function(n){n&&n.unsubscribe().then(function(){o(n.endpoint.split("gcm/send/")[1],"remove"),t(!1)}).catch(function(){t(!0),alert(e.message_pushremove_failed)})})})};window.pwpRegisterPushDevice=a,window.pwpDeregisterPushDevice=s}(jQuery,PwpJsVars)}]);